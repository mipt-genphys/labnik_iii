# Работчая версия лабника по электричеству #

Лабник верстается в LaTeX2e с использованием стиля `Labnik.sty`. Стиль сделан таким образом, чтобы максимально упростить процесс сборки материалов. На этапе сборки используется максимально простое оформление. Потом при верстки стиль будет меняться без изменения текста. Описание стиля лежит и обновляется [вот тут](https://bitbucket.org/mipt-npm/labnik_iii/wiki/LaTeX:%20%D0%92%D0%B5%D1%80%D1%81%D1%82%D0%BA%D0%B0).

## Сборка ##

Для сборки можно использовать свой любимый дистрибутив lualatex, но для автоматизации используется система gradle. Для работы необходимо, чтобы в системе была установлена JVM и любой дистрибутив latex.
Для компиляции всего лабника надо использовать комманду `gradlew build`.
Для компиляции только введений - `gradlew preamble`.
Также можно компилировать отдельные фрагменты: `gradlew fragment -Ptitle="<название>" -Pfragment="<путь из корневой директории>"`
Для параллельной компиляции всех глав с названиями по-умолчанию по отдельности `gradlew chapters`.

Результаты будут находиться в директории `build/output`.


## Структура директорий ##
**.gradle** - Временная директория, которая создается системой сборки. Ее не надо трогать. Можно удалить.

**.hg** - Директория системы контроля версий. Не трогать.

**build** - Результаты сборки  

**Chapter_x** - Главы лабника

**gradle** - Исполняемые файлы gradle wrapper. Игнорировать.

**Obl**

**Pic** - Картинки

**Raw** - Несверстанные материалы

**Unused** - Старые куски, которые не вошли в новую версию или заменены более новыми.

**old** - Весь старый лабник в одном архиве
